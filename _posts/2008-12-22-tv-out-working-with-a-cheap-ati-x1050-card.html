---
comments: false
date: 2008-12-22
layout: post
permalink: /2008/12/tv-out-working-with-cheap-ati-x1050.php
tags:
- linux
title: TV Out working with a cheap ATI X1050 card
---


<div class='post'>
I got TV out working on my cheap $20 ATI X1050 PCIE graphics card under Linux. It worked first time after following these instructions. I had to modify it slightly so there was only one display (the TV). I even got it to work with x11vnc which meant I could do most of my setup remotely and not have to have the TV on.<br /><br />However after following some XBMC instructions I noticed I was running the Mesa GL library and not the ATI hardware one.<pre class="code">DISPLAY=:0.0 glxinfo | fgrep direct</pre>was reporting direct rendering: No<br /><pre class="code">DISPLAY=:0.0 fglrxinfo</pre>was showing Mesa.<br /><br />Even though I was getting pretty impressive frame rate with Mesa I upgraded to the downloadable (from ATI) driver and that screwed everything up. Even though it was now reporting direct rendering the performance was sucky. I also noticed that as soon as I killed the first X Client, X windows would exit too. not too sure what that's about. I uninstalled the downloaded drivers and went back to the gflrx drivers from ubuntu and that gave me direct rendering and pretty good frame rates. Sadly x11vnc no longer works, even though I downloaded the most recent version and compiled it myself. It keeps getting ShMem errors.<pre class="code">With downloaded ATI drivers<br /># fgl_glxgears<br />Using GLX_SGIX_pbuffer<br />1423 frames in 5.0 seconds = 284.600 FPS<br />1780 frames in 5.0 seconds = 356.000 FPS<br />1741 frames in 5.0 seconds = 348.200 FPS<br /># glxgears<br />1837 frames in 5.0 seconds = 366.721 FPS<br />1927 frames in 5.0 seconds = 385.396 FPS<br />1904 frames in 5.0 seconds = 380.799 FPS<br /><br />With ubuntu fglrx drivers<br /># fgl_glxgears<br />Using GLX_SGIX_pbuffer<br />2568 frames in 5.0 seconds = 513.600 FPS<br />3032 frames in 5.0 seconds = 606.400 FPS<br />3009 frames in 5.0 seconds = 601.800 FPS<br /># glxgears<br />12657 frames in 5.0 seconds = 2531.301 FPS<br />12632 frames in 5.0 seconds = 2526.393 FPS<br />12531 frames in 5.0 seconds = 2506.009 FPS</pre><br />Once I had video set up Audio was a doddle, installed alsa and alsamixer and alsaplayer and immediately sound came out! I still need to spend some time to get digital optical audio out, but I'll leave that for some other day.<br /><br />XBMC has screen resolution and calibration tools built in. I also used [aticonfig --tv-info] and [aticonfig --tv-geometry=40x90+0+2] before I found the calibration menu and got my screen size set up.<br /><br />Controlling XBMC is still a problem. I'm using the web ui (turn on in settings), <a href="http://synergy2.sf.net/">synergy</a> from a laptop, the iPhone web ui is too limited (Couldn't find any transport controls), But the $3 iPhone App seems workable for now. I had hoped to be able to use my really old X10 MouseRemote but it appears to have died. I tried it with two different serial ports and neither got any data out of it. The little LED didn't flash when I pressed buttons. So I looked up some remotes online and ended up ordering a <a href="http://www.amazon.com/Premium-Ultimate-Remote-Control-Mediagate/dp/B000W5GK5C/">Mediagate MCE Remote</a> which should work just fine. I'll keep you posted on that.<br /><br />Lastly I fear that my current home automation controller. A Destiny Networks D3K is close to it's end of life. The company's gone bust so I don't get any updates anymore. The control software only runs under Windows and my last machine that had it installed died. I'm trying to muddle along with what I have set up right now, so to get the HTPC/XBMC you need to press VCR and there's no way to get to VCR now (unless you go in and press buttons (the horror!).<br />Perhaps with this new remote I'll be able to control some stuff. Seems relays and IR emitters are expensive (at least from Global Cache, so I might have to work in some <a href="http://en.wikipedia.org/wiki/Arduino">arduino</a> boards or something. That's a long time in the future though.<br /><br />Sooner than that I'm going to get a 1.5TB drive (or two) and put more of my movies on it. And I need to work out how to Rip some of these Disney DVD's...</div>
<h2>Comments</h2>
<div class='comments'>
</div>
