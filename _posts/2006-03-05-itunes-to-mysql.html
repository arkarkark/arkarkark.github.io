---
layout: post
title: iTunes to MySQL
date: 2006-03-05
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
I've finally got something that will deal with my 43Meg iTunes Library.xml file! I found iTunes.py over at <a href="http://lazycat.org/backburner.html#pytunes">lazycat.org</a> which I've modified to also load playlist as well as track information. It uses the most excellent pulldom python API which attempts to be more memory efficient than loading the whole dom into memory.<br /><br />I then interfaced to a MySQL database with MySQLdb which was a breeze. I created a schema which would allow me to store more than one person's iTunes Library in the same database, this could lead to some interesting data mining! The SQL used to create the database is provided in sql.sql<br /><br />The XML says it's UTF-8 put pulldom gets confused when it found some characters in it so I made it 'sanitize' the XML by stripping out non-ASCII characters, I know this isn't strictly a good thing, but I'll spend more time on that once I have it working more.<br /><br />It's controlled by a .itdb.config file that you keep in your home directory an example one of those is provided too. I also provided an example small iTunes.xml library for development work. Loading that is a lot quicker than trying to reload your 40Meg XML file.<br /><br />It's been tested on Mac OS X and Linux.<br /><br />You can find the source over at:<br /><a href="http://code.google.com/p/wtwf/source/browse/trunk/itdb">http://code.google.com/p/wtwf/source/browse/trunk/itdb<br /></a><br />Now I'm working on something to do something with the data. I'm using <a href="http://www.cheetahtemplate.org/">cheetah</a> to write out HTML with data from the database.<br /><br />Here's a sneaky peak at some of the expected output.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://wtwf.com/scripts/uploaded_images/itdb-774420.png"><img style="margin: 0px auto 10px; display: block; text-align: center; cursor: pointer;" src="http://wtwf.com/scripts/uploaded_images/itdb-769334.png" alt="" border="0" /></a><br />Of course once it's finished (or a little better) I'll be posting source here.</div>
<h2>Comments</h2>
<div class='comments'>
</div>
