---
comments: false
date: 2007-07-23
layout: post
permalink: /2007/07/there-go-my-nines.php
tags:
- hosting
- linux
title: There go my nines
---


<div class='post'>
I'm pretty sure no one noticed, but my server was down for quite some time this weekend...<br /><br />Short Version:<table style="border: 1px solid black; border-collapse: collapse;"><tbody><tr style="border: 1px solid black;"><th style="border: 1px solid black; text-align: left;" align="left">Before</th><th style="text-align: left;" align="left">After</th></tr><tr><td style="border: 1px solid black; vertical-align: top;" valign="top">Linux Server<ul><li>Pentium III 600Mgz</li><li>256Meg Ram</li><li>Beige Dell Box on a shelf</li></ul>Windows Server<ul><li>AMD Athlon 1Ghz</li><li>512 Meg ram</li><li>Sweet 4U rack mount case</li><li>Running Security Cam Software</li></ul></td><td style="vertical-align: top;" valign="top">Linux Server<ul><li>AMD Athlon 1Ghz</li><li>512 Meg ram</li><li>Sweet 4U rack mount case</li><li>Running webserver, email, Security cam Software, stuff</li></ul></td></tr></tbody></table>Long Version:<br />But I think it's back up for a while now and it's better than ever!<br />Someone at work was selling an old Motherboard, processor, 0.5Gig memory and a fancy graphics card for cheap, so I made a low offer, told them I hoped they got a more reasonable offer and then ended up 'winning' it. It was caked in some horrible brown gunk which I suspect was due to someone smoking in the house. I powered down my server (a really old dell Pentium 3 600Mhz), threw in the new motherboard and powered it up. I had heard about <a href="http://en.wikipedia.org/wiki/ATX#Dell_power_supplies">dell power supplies being wired weird</a> but thought my system predated that silliness. It turns out it didn't. So now I needed a new case and power supply (of course a standard power supply wouldn't fit in a dell case!). I figured I should finally do it right and get a rack mount so the computer could actually fit in the 17" rack I have in my AV closet (where my current server just sits on a shelf like a dork). Boy those things are expensive I was looking at paying over $150 for a not particularly nice one that was likely going to be a total hassle (getting cards to fit in it) since I didn't have room for another 4U case in the rack. You see I already have a 4U server in the rack, it was my old home theater PC and has since been re purposed to run the security software than records my security cameras. This machine had been down for a little while ever since I needed a windows PC to fix the dead disk in my TiVo. A TiVo backup that was too old to update itself caused me to have to buy instant cake which I begrudgingly did, but it ended up working so well I should have done that right from the start, I did feel like a failed TiVo hacker for not being able to do it myself though. But since the machine was down and out, I plonked the new board on top, hooked up the ATX power supply and booted it up and sure enough it worked fine. Even better the fancy graphics card sent signal to the DVI connector from the start s I could set bios settings with it connected to my apple display (DVI only) in the den. Before that I'd have to lug my machine into the bedroom, balance it on a wooden stand and connect it to the LCD TV in there (the only display in the house to accept VGA input!). I emailed who I bought the motherboard from and told them it worked fine. I decided to setup my new server in parallel with my old one (minimum downtime!) and installed ubuntu on a 200 gig drive I had, I couldn't get the damn thing to boot, I tried everything, other drives, swapping master/slave, all sorts of bios jiggery pokery, nothing worked, also the bios power on cycle took a really long time which made it more frustrating. In the end I gave up, emailed the seller with the bad news and fortunately they agreed to take it back. I still had the idea of putting my linux server in a rack case, and it always bothered me that I ran a windows server at home, The only reason I ran it was because I had convinced myself no Linux drivers could possibly exist for my 4 input video capture card. A quick Google search and I was proved wrong, quickly negating the need for a windows server, I started moving the drives over to my 4U case and they kept having disk errors so I reinstalled Ubuntu on a spare 200 gig drive and got ssh working and then started copying over all the files I'd need to get my server back up and running. Finally it's all working great! I like the new security software since it's free and open source and I can tweak it if I need to. I really like that I have one less sever and a windows one at that, so my AV Closet is much tidier now!<br /><br />Everything feels right about this.<br /><br />Here's the Ubuntu packages I had to install to make it usable for me:<br /><br />apache2 ssh libapache2-mod-python2.4 php5 libapache2-mod-perl2 bind9 mailman screen tkdiff xauth mailx screen xlogo cvs python-cheetah python-mysqldb pychecker<br /><br />TODO(ark) find xv somewhere<br /><br />Here's the configuration files I had to copy over, I really should make sure these are backed up:<br /><ul><li>/etc/apt/sources.list</li><li>/etc/apache2</li><li>/etc/bind</li><li>/etc/postfix</li><li>/etc/init.d/postfix </li><li>/etc/mailman</li><li>/var/lib/mailman</li><li>/usr/lib/mailman</li></ul></div>
<h2>Comments</h2>
<div class='comments'>
</div>
