---
comments: false
date: 2010-04-11
layout: post
permalink: /2010/04/snippy-urls-in-app-engine.html
title: Snippy Urls in App Engine
---

<h1>{{ page.title }}</h1>
<div class='post'>
I've written before about <a href="http://blog.wtwf.com/2006/08/snippy-urls.php">my own url shortening service</a> that I wrote just for me. It was running on my home server which often loses power and due to something with the router and our VPN software, whenever I was connected to the office I couldn't use my tiny urls which was pretty annoying. My recent forays into Google's AppEngine it seemed like the perfect platform for me to re-implement my snippy url shortening service.<br /><br />The source is far from clean and tidy, but it works and so I'm linking to it <a href="http://code.google.com/p/wtwf/source/browse/#svn/trunk/wtwfapp">here</a>.<br /><br />So I'm going to write up why it's awesome here and pretend that it's running on example.com:<br /><div><ul><li>You can create short urls by going to http://example.com/admin/add/http://google.com.com/ that will make a random short url</li><li>You can create a named short urls by going to http://example.com/admin/add/goog%20http://google.com/ that will make example.com/goog</li><li>You can create a named parameterized short urls by going to /admin/add/sx%20http://google.com/search?q=%s that will make example.com/sx%20foo search google.com for foo (yes you'll need to escape that %s but bear with me)</li><li>You make example.com/%s your default search engine in your browser</li><li>You make example.com/g be a google search using the %s thing</li><li>Now you can type "g foo" in your location bar to search google for foo</li><li>You can make a named parameterized short url for example.com/admin/add/%s called w</li><li>Now when you want a short url, you type this in your browser "w example http://docs.google.com/blahblahblah" which makes go.example.com/example</li><li>The created page shows a form with the created short url in it; all selected and focused. you just hit control-c to copy it.</li><li>You can hit enter on the form and it will hit the url to test that it works</li><li>I also allow myself to have private links that you need to be logged in to follow (I allow my personal and work addresses to login)</li><li>I also have optional alternate urls for each parameterized short url, so if you don't provide a parameter for a parameterized url then it will send you to the alternate url (direct to google homepage, rather than searching for %s)</li><li>I also have optional mobile urls for each short url so if you use a go link from a mobile device you are sent to the mobile url</li><li>You can customize the short link not found page to suggest other things (like searching delicious and a google search and perhaps a dns lookup?)</li><li>It also has a built in redirector that hides the referrer</li><li>The redirector also fakes referrer for .jpg|gif|png files and fetches the image and sends that on (I use it in my feeds that restrict image fetching to the original site) (not related to making short urls at all)</li><li>You can upload a .ini format file to fill up the datastore in bulk. This happens to be the same format the old url redirector used to store its data in.</li><li>When you start it up, go to http://example.com/admin/addadmin and add yourself as an admin. When there's no users the first user is allowed as an admin, then the admin must add other admins.</li><li>For each snippy url you can provide a suggest_url that will be used by Chrome when you're typing after that snippy keyword in the omnibox (parameterized urls only).</li></ul><div>There's a few things I might add in the future:</div></div><div><ul><li>UI Improvements</li><li>I might add full acls etc so you can let specific people in (perhaps link to my contacts and contact groups via oath?)</li><li>The ability to upload a mozilla bookmarks.html file and create short urls from all the keywords in there.</li><li>The ability to create short urls that expire after a certain date (use closure for the date picker!)</li><li>Allow partial short urls so that if you have a short url for google.com called g, going to example.com/g/jobs would get you to google.com/jobs This is a poor mans parameterized short url thing.</li></ul></div></div>
<h2>Comments</h2>
<div class='comments'>
</div>
