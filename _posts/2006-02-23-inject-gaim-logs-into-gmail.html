---
layout: post
title: Inject gaim logs into gmail
date: 2006-02-23
comments: false
---

<h1>{{ page.title }}</h1>
<div class='post'>
I love the new chat feature in gmail, and I doubly love the fact that my chat history is nicely searchable. For a while now I've wanted to import all my old chats into gmail so I can search over them too. This weekend I sat down and wrote  <a href="http://www.blogger.com/scripts/bin/gaimlogsmailer">gaim logs mailer</a>. <a href="http://gaim.sf.net/">Gaim</a> is an open source multi protocol chat client with god awful almost non-existent insecure password management. It takes your logs and sends them to an email address of your choice. It's driven by a config file in ~/.gaim/logsmailerrc and keeps track of which logs it's mailed so it wont mail them again. You can run this every night if you want. Here's an <a href="http://www.blogger.com/scripts/bin/logsmailerrc.example">example logsmailerrc</a>.<br /><br />I still have three todo items for it:<br />- make it parse yahoo messenger client logs (which are <a href="http://www.venkydude.com/articles/yarchive.htm">lamely obfuscated</a>)<span class="down" style="display: block;" id="formatbar_CreateLink" title="Link" onmouseover="ButtonHoverOn(this);" onmouseout="ButtonHoverOff(this);" onmouseup="" onmousedown="CheckFormatting(event);FormatbarButton('richeditorframe', this, 8);ButtonMouseDown(this);">- make it keep a timestamp/md5sum of when the file was sent so that if more stuff gets added to the file it's resent.<br />- make it upload <a href="http://adiumx.com/">adium</a> logs too<br /><br />There is one problem:<br />- even though the date is correct in the email, gmail seems to index based on the date received. So you can't do before: or after: searches and find your messages.<br /><br />If you use this to email your own account, and then fetch that via POP3 it might have better luck with the dates. I also heard if I send it directly to gmail using IMAP and use IMAP APPEND then gmail should preserve the timestamps:<br /></span><blockquote>You want to use the optional INTERNALDATE argument in order to set the<br />"received time" to the time of the message, assuming that's the date<br />problem you were having.  Otherwise, you need a Date: header that is<br />correct for the "message time".<br /></blockquote><br /><span class="down" style="display: block;" id="formatbar_CreateLink" title="Link" onmouseover="ButtonHoverOn(this);" onmouseout="ButtonHoverOff(this);" onmouseup="" onmousedown="CheckFormatting(event);FormatbarButton('richeditorframe', this, 8);ButtonMouseDown(this);"><br /></span></div>
<h2>Comments</h2>
<div class='comments'>
</div>
